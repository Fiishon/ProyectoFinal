<link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-regular-straight/css/uicons-regular-straight.css">
<div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg custom-modal-width">
    <div class="modal-content p-4 rounded-4">
      <button type="button" class="btn-close modal-close-btn" data-bs-dismiss="modal" aria-label="Close"></button>

      <div class="modal-body custom-modal-body">
        <div class="modal-left-panel">
          <div class="text-center mb-4">
            <img src="/logo.png" alt="AMC Logo" class="img-fluid ad-logo mb-3"> 
            <h2 class="modal-welcome-title">¡Te damos la bienvenida!</h2>
            <p class="modal-welcome-text">Al iniciar sesión podrás consultar fácilmente tus boletos en tu historial de viajes. Si ya tenías una cuenta en el anterior sitio, es necesario registrarte de nuevo.</p>
          </div>
          <ul class="list-unstyled modal-features-list">
            <li><i class="bi bi-person-circle feature-icon"></i> Crea <strong>tu propio perfil</strong></li>
            <li><i class="bi bi-bookmark-fill feature-icon"></i> Guarda <strong>viajes frecuentes</strong></li>
            <li><i class="bi bi-clock-history feature-icon"></i> Consulta <strong>historial de viaje</strong></li>
            <li><i class="bi bi-people-fill feature-icon"></i> Administra <strong>pasajeros favoritos</strong></li>
            <li><i class="bi bi-tag-fill feature-icon"></i> Recibe <strong>ofertas y promociones</strong></li>
            <li><i class="bi bi-shield-fill-check feature-icon"></i> Confía, <strong>tu información esta segura</strong></li>
          </ul>
        </div>

        <div class="modal-right-panel">
          <h5 class="modal-title login-section-title">Inicia sesión</h5>
          
          <!-- Mensaje de error -->
          <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
            {{ errorMessage }}
          </div>
          
          <form>
            <div class="mb-3">
              <label class="form-label ad-label">Correo electrónico</label>
              <input type="email" [(ngModel)]="email" name="email" class="form-control ad-input" placeholder="ejemplo@correo.com" required>
            </div>
            <div class="mb-3">
              <label class="form-label ad-label">Contraseña</label>
              <div class="input-group">
                <input [type]="showPassword ? 'text' : 'password'"
                      class="form-control ad-input" [(ngModel)]="password" name="password"
                      placeholder="Escribe la contraseña"
                      required>
                <button class="btn btn-outline-secondary ad-password-toggle"
                        type="button"
                        (click)="togglePasswordVisibility()"
                        [attr.aria-label]="showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'">
                  <i [ngClass]="showPassword ? 'fi fi-rs-crossed-eye' : 'fi fi-rs-eye'"></i>
                </button>
              </div>
            </div>
            <a href="#" class="forgot-password-link">¿Olvidaste tu contraseña?</a>
            <button type="submit" id="log" class="btn btn-primary ad-btn-primary w-100 mt-3" (click)="login()" [disabled]="isLoading">
              <span *ngIf="!isLoading">INICIAR SESIÓN</span>
              <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
              <span *ngIf="isLoading"> Cargando...</span>
            </button>
          </form>
          <p class="mt-3 text-center register-text">
            ¿Deseas registrarte?
            <a href="#" class="ad-register-link" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#registroModal">
              <strong>Hazlo aquí</strong>
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>